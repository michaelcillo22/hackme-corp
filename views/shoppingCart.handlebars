<h1>Shopping Cart</h1>

{{!-- Display the shopping cart --}}
<div id="cartContents">
    <h2>Your Shopping Cart</h2>
    <ul id="cartList">
        {{#each cartItems}}
        <li>
            <strong>{{this.name}}</strong> - Quantity: {{this.quantity}} - Price: {{this.price}}
        </li>
        {{/each}}
    </ul>
    <p><strong>Total:</strong> <span id="cartTotal">$0.00</span></p>
    
    <form action="/create-order" method="POST">
        <input type="hidden" name="orderStatus" value="Pending">
        <input type="hidden" name="purchaseDate" value="{{purchaseDate}}">
        
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" required>

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="lastName" required>

        <label for="buyerEmail">Email:</label>
        <input type="email" id="buyerEmail" name="buyerEmail" required>

        <input type="hidden" name="buyerId" value="{{buyerId}}">

        <label for="shippingAddress">Shipping Address:</label>
        <input type="text" id="shippingAddress" name="shippingAddress" required>

        <label for="contactNumber">Contact Number:</label>
        <input type="tel" id="contactNumber" name="contactNumber" required>

        {{#each cartItems}}
        <input type="hidden" name="items[]" value="{{this._id}}">
        {{/each}}

        <button type="submit">Create Order</button>
    </form>
</div>

<div id="err_output"></div>

{{!--External JS Files --}}
<script src="/js/cartClient.js"></script>
<script type="module" src="/js/productCategoryClient.js"></script>